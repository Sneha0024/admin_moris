<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account - Sessions</title>
    <!-- font awesome cdn link  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <link rel="stylesheet" href="css/style.css">
    <!-- Add this to the head section of your HTML document -->
    <link href="https://fonts.googleapis.com/css?family=Avenir:400,600,700,800" rel="stylesheet">

</head>

<body>

    <div class="sidebar-account">
        <span href="/"
            class="settings-sidebar-head align-items-center mb-md-0 link-body-emphasis text-decoration-none logo-section">
            <a href="/index.html"><i class="fas fa-arrow-left"></i></a> My Account
        </span>
        <hr>

        <ul class="nav nav-pills flex-column">
            <li class="nav-item">
                <a href="account__menu_profile.html" class="nav-link link-body-emphasis" aria-current="page">
                    <img src="images/account-sidebar-profile-icon.svg" />
                    <span class="nav-item-text"> Profile </span>
                </a>
            </li>
            <li class="nav-item">
                <a href="account__menu_Security.html" class="nav-link link-body-emphasis" aria-current="page">
                    <img src="images/account-sidebar-security-icon.svg" />
                    <span class="nav-item-text"> Security</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="account__menu_authentication.html" class="nav-link link-body-emphasis">
                    <img src="images/account-sidebar-authentication-icon.svg" />
                    <span class="nav-item-text">Multi Factor Authentication</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="account__menu_settings.html" class="nav-link link-body-emphasis">
                    <img src="images/account-sidebar-settings-icon.svg" />
                    <span class="nav-item-text">Settings</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="account__menu_sessions.html" class="nav-link link-body-emphasis active">
                    <img src="images/account-sidebar-sessions-icon.svg" />
                    <span class="nav-item-text">Sessions</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="account__menu_groups.html" class="nav-link link-body-emphasis">
                    <img src="images/account-sidebar-groups-icon.svg" />
                    <span class="nav-item-text">Groups</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="account__menu_privacy.html" class="nav-link link-body-emphasis">
                    <img src="images/account-sidebar-privacy-icon.svg" />
                    <span class="nav-item-text">Privacy</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="account__menu_compliance.html" class="nav-link link-body-emphasis">
                    <img src="images/account-sidebar-compliance-icon.svg" />
                    <span class="nav-item-text">Compliance</span>
                </a>
            </li>
        </ul>
    </div>

    <div class="account-container container w-auto sessions">
        <div class="account-page-heading"><img src="images/account_heading_sessions_icon.svg" alt="" class="mb-1" />
            Sessions
        </div>
        <div class="account-content">
            <div class="active-sessions-section">
                <h5 class="active-sessions-heading">Active Sessions</h5>
                <span class="active-sessions-sub-heading">View and manage all of your active sessions.</span>
                <!-- <div class="laptop-info">
                    <div>
                        <span class="laptop-image-section">
                            <img src="images/account_sessions_laptop-icon.svg" alt="">
                        </span>
                        <span class="laptop-name-info">
                            <span class="laptop-name">Apple MacBook Pro

                            </span>
                            <span class="laptop-last-login">11 days ago</span>

                        </span>

                    </div>
                    <span class="sytem-browser-logo-section">
                        <img src="images/account-sessions-apple-icon.svg" alt=""> 
                        <img src="images/accpunt-sessions-chrome-icon.svg" alt=""> <span id="sessions-browser">chrome</span>
                    </span>
                    <div class="sessions-location-info">
                        Nashik, Maharashtra, India.
                    </div>
                    <div class="session-ip-address-info">
                        152.58.17.121
                    </div>
                    <div class="current-situation-text">
                        Current Situation
                    </div>
                </div> -->


                <!-- laptop info with dynamic  -->
                <div class="laptop-info">
                    <div>
                        <span class="laptop-image-section">
                            <img src="images/account_sessions_laptop-icon.svg" alt="">
                        </span>
                        <span class="laptop-name-info">
                            <span class="laptop-name" id="laptop-name">Loading...</span>
                            <span class="laptop-last-login">11 days ago</span>
                        </span>
                    </div>
                    <span class="sytem-browser-logo-section">
                        <img src="images/account-sessions-apple-icon.svg" alt="">
                        <img src="images/accpunt-sessions-chrome-icon.svg" alt="">
                        <span id="sessions-browser">Loading...</span>
                    </span>
                    <div class="sessions-location-info" id="sessions-location">Loading...</div>
                    <div class="session-ip-address-info" id="session-ip-address">Loading...</div>
                    <div class="current-situation-text">
                        Current Situation
                    </div>
                </div>

            </div>
            <div class="active-authtokens-section">
                <h5 class="active-sessions-heading">Active Authtokens</h5>
                <span class="active-sessions-sub-heading">View and manage all of the sessions you’ve signed in to with
                    authtokens.</span>
                <div class="auth-tokens">
                    <div class="auth-token-img"><img src="images/security-no-device-img.svg" alt=""></div>
                    <div class="auth-token-text">You don’t have any active auth tokens</div>
                </div>
            </div>
        </div>
    </div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>

    <!-- 1st row dynamic values  browser and device name q=working-->
    <!-- <script>
        function fetchLocationInfo(ipAddress) {
            // Replace this URL with the appropriate API endpoint for fetching location information
            const apiUrl = `https://api.example.com/location?ip=${ipAddress}`;
    
            // Make an HTTP request to the API
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    const { city, state, country } = data;
    
                    const sessionsLocationElement = document.getElementById('sessions-location');
                    sessionsLocationElement.textContent = `${city}, ${state}, ${country}`;
                })
                .catch(error => {
                    console.error('Failed to fetch location information:', error);
                });
        }
    
        function fetchIPAddress() {
            const apiUrl = 'https://api.example.com/ip';
    
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    const ipAddress = data.ip;
    
                    const sessionIPAddressElement = document.getElementById('session-ip-address');
                    sessionIPAddressElement.textContent = ipAddress;
    
                    fetchLocationInfo(ipAddress);
                })
                .catch(error => {
                    console.error('Failed to fetch IP address:', error);
                });
        }
    
        function fetchDeviceName() {
            const deviceName = navigator.platform;
    
            const laptopNameElement = document.getElementById('laptop-name');
            laptopNameElement.textContent = deviceName;
        }
    
        function fetchBrowserName() {
            const browserName = navigator.userAgent;
    
            const sessionsBrowserElement = document.getElementById('sessions-browser');
            sessionsBrowserElement.textContent = browserName;
        }
    
        fetchDeviceName();
        fetchBrowserName();
        fetchIPAddress();
    </script> -->












    <script>
        function fetchIPAddress() {
            // Fetching IP address using a third-party service
            fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => {
                    const ipAddress = data.ip;

                    const sessionIPAddressElement = document.getElementById('session-ip-address');
                    sessionIPAddressElement.textContent = ipAddress;

                    fetchLocationInfo(ipAddress);
                })
                .catch(error => {
                    console.error('Failed to fetch IP address:', error);
                });
        }

        function fetchLocationInfo(ipAddress) {
            // Fetching location based on IP address using a third-party service
            fetch(`https://ipapi.co/${ipAddress}/json/`)
                .then(response => response.json())
                .then(data => {
                    const city = data.city;
                    const state = data.region;
                    const country = data.country_name;

                    const sessionsLocationElement = document.getElementById('sessions-location');
                    sessionsLocationElement.textContent = `${city}, ${state}, ${country}`;
                })
                .catch(error => {
                    console.error('Failed to fetch location information:', error);
                });
        }

        function fetchDeviceName() {
            const deviceName = navigator.platform;

            const laptopNameElement = document.getElementById('laptop-name');
            laptopNameElement.textContent = deviceName;
        }
        // showing all the broserrs
        // function fetchBrowserName() {
        //     const browserName = navigator.userAgent;

        //     const sessionsBrowserElement = document.getElementById('sessions-browser');
        //     sessionsBrowserElement.textContent = browserName;
        // }

        function fetchBrowserName() {
            const userAgent = navigator.userAgent;

            let browserName = "Unknown Browser";

            if (userAgent.includes("Chrome")) {
                browserName = "Google Chrome";
            } else if (userAgent.includes("Firefox")) {
                browserName = "Mozilla Firefox";
            } else if (userAgent.includes("Safari")) {
                browserName = "Apple Safari";
            } else if (userAgent.includes("Edge")) {
                browserName = "Microsoft Edge";
            } else if (userAgent.includes("Opera")) {
                browserName = "Opera";
            }

            const sessionsBrowserElement = document.getElementById('sessions-browser');
            sessionsBrowserElement.textContent = browserName;
        }



        fetchDeviceName();
        fetchBrowserName();
        fetchIPAddress();
    </script>




</body>

</html>