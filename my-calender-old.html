<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calender Admin</title>
  <!-- font awesome cdn link  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

  <link rel="stylesheet" href="css/style.css">
  <!-- Add this to the head section of your HTML document -->
  <link href="https://fonts.googleapis.com/css?family=Avenir:400,600,700,800" rel="stylesheet">
</head>

<body>
  <div class="d-flex flex-column sidebar-custom">
    <a href="/" class="align-items-center mb-md-0 link-body-emphasis text-decoration-none logo-section">
      <img src="images/sidebar-small-logo.png" class="sidebar-small" />
      <img src="images/sidebar-logo.png" class="sidebar-open" />

    </a>
    <hr>
    <ul class="nav nav-pills flex-column mb-auto">
      <li class="nav-item">
        <a href="create_an_event.html" class="nav-link link-body-emphasis" aria-current="page">
          <img src="images/sidebar-icon-1.svg" />
          <span class="nav-item-text"> Create an Event </span>
        </a>
      </li>

      <li class="nav-item">
        <a href="index.html" class="nav-link active" aria-current="page">
          <img src="images/sidebar-icon-2.svg" />
          <span class="nav-item-text">Home</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="my-calender.html" class="nav-link link-body-emphasis">
          <img src="images/sidebar-icon-3.svg" />
          <span class="nav-item-text">My Calender </span>
        </a>
      </li>
      <li class="nav-item">
        <a href="#" class="nav-link link-body-emphasis">
          <img src="images/sidebar-icon-5.svg" />
          <span class="nav-item-text">Schedule Meetings</span>
        </a>
      </li>

      <li class="nav-item">
        <a href="#" class="nav-link link-body-emphasis">
          <img src="images/sidebar-icon-4.svg" />
          <span class="nav-item-text"> Scheduled Meetings </span>
        </a>
      </li>
      <li class="nav-item">
        <a href="#" class="nav-link link-body-emphasis">
          <img src="images/sidebar-icon-6.svg" />
          <span class="nav-item-text"> Past Meetings</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="#" class="nav-link link-body-emphasis">
          <img src="images/sidebar-icon-7.png" />
          <span class="nav-item-text">Cancelled Meetings</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="account__menu_profile.html" class="nav-link link-body-emphasis">
          <img src="images/sidebar-icon-8.png" />
          <span class="nav-item-text">My Account </span>
        </a>
      </li>
    </ul>
    <hr class="visually-hidden">
    <ul class="nav nav-pills flex-column">
      <li class="nav-item">
        <a href="settings_menu.html" class="nav-link link-body-emphasis">
          <img src="images/sidebar-icon-9.svg" />
          <span class="nav-item-text">Settings</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="settings_menu_team.html" class="nav-link link-body-emphasis">
          <img src="images/sidebar-icon-10.svg" />
          <span class="nav-item-text">Team </span>
        </a>
      </li>
      <li class="nav-item">
        <a href="#" class="nav-link link-body-emphasis">
          <img src="images/sidebar-icon-11.svg" />
          <span class="nav-item-text">Subscription</span>
        </a>
      </li>
      <li class="nav-item">
        <a href="#" class="nav-link link-body-emphasis">
          <img src="images/sidebar-icon-12.svg" />
          <span class="nav-item-text">Help &amp; Support </span>
        </a>
      </li>
      <li class="nav-item">
        <a href="#" class="nav-link link-body-emphasis">
          <img src="images/sidebar-icon-13.png" />
          <span class="nav-item-text">INDIA </span>
        </a>
      </li>

    </ul>
  </div>
  <div class="container">
    <div class="row" style="margin: 50px 0;">

      <div class="col-12 col-md-9">
        <div class="calendar my-calender">
          <div class="calendar-header">
            <div>
              <h2 id="current-month"></h2>  <img src="images/my-cander-down-arrow.svg" alt="" class="d-none">
            </div>
            <div>
              <button id="prev-month"><img src="images/my-calder-left-arrow.svg" alt=""></button>
              <button id="next-month"><img src="images/my-calender-right-arrrow.svg" alt=""></button>

            </div>
          </div>
          <div class="calendar-days">
            <div class="calendar-day-name sunday">Sunday</div>
            <div class="calendar-day-name">Monday</div>
            <div class="calendar-day-name">Tuesday</div>
            <div class="calendar-day-name">Wednesday</div>
            <div class="calendar-day-name">Thurday</div>
            <div class="calendar-day-name">Friday</div>
            <div class="calendar-day-name">Saturday</div>
          </div>
          <div id="calendar-grid"></div>
        </div>
        <!-- Modal -->
        <div id="modal" class="modal">
          <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modal-date"></h2>
            <form id="event-form">
              <label for="event-title">Event Title:</label>
              <input type="text" id="event-title" required>
              <button type="submit">Save</button>
            </form>
          </div>
        </div>

      </div>
      <div class="col-12 col-md-3">
        <div id="scheduled-events"></div>

      </div>
    </div>
  </div>

  <script>
    // Get current date
    var currentDate = new Date();

    // Event data
    var events = {};

    // Generate calendar
    function generateCalendar(year, month) {
      var calendarHeader = document.getElementById('current-month');
      var calendarGrid = document.getElementById('calendar-grid');
      calendarGrid.innerHTML = '';

      // Set the current month and year
      calendarHeader.textContent = new Date(year, month).toLocaleString('en-us', { month: 'long', year: 'numeric' });

      // Get the first day of the month
      var firstDay = new Date(year, month, 1);
      var startingDay = firstDay.getDay();

      // Get the number of days in the month
      var monthLength = new Date(year, month + 1, 0).getDate();

      // Create the calendar grid
      var dayCount = 1;
      for (var i = 0; i < 6; i++) {
        for (var j = 0; j < 7; j++) {
          if ((i === 0 && j < startingDay) || dayCount > monthLength) {
            var day = document.createElement('div');
            day.className = 'calendar-day empty';
            calendarGrid.appendChild(day);
          } else {
            var day = document.createElement('div');
            day.className = 'calendar-day';
            day.textContent = dayCount;
            if (j === 0) {
              day.classList.add('sunday'); // Add "sunday" class to Sundays
            }

            day.addEventListener('click', function () {
              var modal = document.getElementById('modal');
              modal.style.display = 'block';

              var modalDate = document.getElementById('modal-date');
              var clickedDate = new Date(year, month, this.textContent);
              modalDate.textContent = clickedDate.toDateString();

              var eventForm = document.getElementById('event-form');
              eventForm.addEventListener('submit', function (e) {
                e.preventDefault();
                var eventTitle = document.getElementById('event-title').value;
                if (!events[clickedDate]) {
                  events[clickedDate] = [];
                }
                events[clickedDate].push(eventTitle);
                closeModal();
                updateScheduledEvents();
              });
            });

            if (events[new Date(year, month, dayCount)]) {
              day.classList.add('has-event');
            }

            calendarGrid.appendChild(day);
            dayCount++;
          }
        }

        if (dayCount > monthLength) {
          break;
        }
      }
    }




    //     function generateCalendar(year, month) {
    //   var calendarHeader = document.getElementById('current-month');
    //   var calendarGrid = document.getElementById('calendar-grid');
    //   calendarGrid.innerHTML = '';

    //   // Set the current month and year
    //   calendarHeader.textContent = new Date(year, month).toLocaleString('en-us', { month: 'long', year: 'numeric' });

    //   // Get the first day of the month
    //   var firstDay = new Date(year, month, 1);
    //   var startingDay = firstDay.getDay();

    //   // Get the number of days in the month
    //   var monthLength = new Date(year, month + 1, 0).getDate();

    //   // Create the day names row
    //   var dayNamesRow = document.createElement('div');
    //   dayNamesRow.className = 'calendar-row day-names';

    //   var dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
    //   for (var i = 0; i < 7; i++) {
    //     var dayName = document.createElement('div');
    //     dayName.className = 'calendar-day day-name';
    //     dayName.textContent = dayNames[i];
    //     dayNamesRow.appendChild(dayName);
    //   }

    //   calendarGrid.appendChild(dayNamesRow);

    //   // Create the calendar grid
    //   var dayCount = 1;
    //   for (var i = 0; i < 6; i++) {
    //     for (var j = 0; j < 7; j++) {
    //       if ((i === 0 && j < startingDay) || dayCount > monthLength) {
    //         var day = document.createElement('div');
    //         day.className = 'calendar-day empty';
    //         calendarGrid.appendChild(day);
    //       } else {
    //         var day = document.createElement('div');
    //         day.className = 'calendar-day';
    //         day.textContent = dayCount;
    //         if (j === 0) {
    //           day.classList.add('sunday');
    //         }

    //         day.addEventListener('click', function () {
    //           var modal = document.getElementById('modal');
    //           modal.style.display = 'block';

    //           var modalDate = document.getElementById('modal-date');
    //           var clickedDate = new Date(year, month, this.textContent);
    //           modalDate.textContent = clickedDate.toDateString();
    //         });

    //         if (events[new Date(year, month, dayCount)]) {
    //           day.classList.add('has-event');
    //         }

    //         calendarGrid.appendChild(day);
    //         dayCount++;
    //       }
    //     }

    //     if (dayCount > monthLength) {
    //       break;
    //     }
    //   }
    // }















    // Previous month
    function prevMonth() {
      currentDate.setMonth(currentDate.getMonth() - 1);
      generateCalendar(currentDate.getFullYear(), currentDate.getMonth());
    }

    // Next month
    function nextMonth() {
      currentDate.setMonth(currentDate.getMonth() + 1);
      generateCalendar(currentDate.getFullYear(), currentDate.getMonth());
    }

    // Initial calendar generation
    generateCalendar(currentDate.getFullYear(), currentDate.getMonth());

    // Event listeners for navigation
    document.getElementById('prev-month').addEventListener('click', prevMonth);
    document.getElementById('next-month').addEventListener('click', nextMonth);

    // Event listeners for modal
    document.getElementById('modal').addEventListener('click', function (e) {
      if (e.target === this) {
        closeModal();
      }
    });

    document.getElementsByClassName('close')[0].addEventListener('click', closeModal);

    // Close the modal
    function closeModal() {
      var modal = document.getElementById('modal');
      modal.style.display = 'none';
    }



    function updateScheduledEvents() {
      var scheduledEventsDiv = document.getElementById('scheduled-events');
      scheduledEventsDiv.innerHTML = '';

      for (var date in events) {
        var eventsList = events[date];
        var parsedDate = new Date(date); // Convert the date string back to a Date object
        for (var i = 0; i < eventsList.length; i++) {
          var eventTitle = eventsList[i];
          var eventLink = document.createElement('a');
          eventLink.textContent = eventTitle;
          eventLink.href = '#' + parsedDate.toISOString(); // Use the parsedDate for the link URL
          scheduledEventsDiv.appendChild(eventLink);
        }
      }
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
</body>

</html>